{"version":3,"file":"topnav.js","sources":["../../../src/js/components/topnav.ts"],"sourcesContent":["/**\n * TOPNAV\n * Add scroll class to sticky topnav if animate-timeline: scroll() is not supported\n */\n\nconst TOPNAV_SELECTOR = \".topnav\"\nconst SCROLL_CLASS = \"scroll\"\n\n// Use polyfill of sorts if browser does not support animation-timeline:scroll() css\nconst run = () => {\n  if (CSS.supports(\"animation-timeline:scroll()\")) {\n    return\n  }\n  // Add a hidden div above the topnav to use to observe when it's scrolled\n  // in and out of view. Toggle the SCROLL_CLASS accordinly to trigger\n  // the box shadow and any animations defined in CSS.\n  const topnav = document.querySelector(TOPNAV_SELECTOR)\n  if (!topnav || !topnav.parentElement) {\n    return\n  }\n  const intercept = document.createElement(\"div\")\n  intercept.setAttribute(\"data-observer-intercept\", \"\")\n  topnav.before(intercept)\n  const observer = new IntersectionObserver(([entry]) => {\n    topnav.classList.toggle(SCROLL_CLASS, !entry.isIntersecting)\n  })\n  observer.observe(intercept)\n}\n\nexport default {\n  run,\n}\n"],"names":[],"mappings":";;;;;;AAKA,MAAM,eAAkB,GAAA,SAAA,CAAA;AACxB,MAAM,YAAe,GAAA,QAAA,CAAA;AAGrB,MAAM,MAAM,MAAM;AAChB,EAAI,IAAA,GAAA,CAAI,QAAS,CAAA,6BAA6B,CAAG,EAAA;AAC/C,IAAA,OAAA;AAAA,GACF;AAIA,EAAM,MAAA,MAAA,GAAS,QAAS,CAAA,aAAA,CAAc,eAAe,CAAA,CAAA;AACrD,EAAA,IAAI,CAAC,MAAA,IAAU,CAAC,MAAA,CAAO,aAAe,EAAA;AACpC,IAAA,OAAA;AAAA,GACF;AACA,EAAM,MAAA,SAAA,GAAY,QAAS,CAAA,aAAA,CAAc,KAAK,CAAA,CAAA;AAC9C,EAAU,SAAA,CAAA,YAAA,CAAa,2BAA2B,EAAE,CAAA,CAAA;AACpD,EAAA,MAAA,CAAO,OAAO,SAAS,CAAA,CAAA;AACvB,EAAA,MAAM,WAAW,IAAI,oBAAA,CAAqB,CAAC,CAAC,KAAK,CAAM,KAAA;AACrD,IAAA,MAAA,CAAO,SAAU,CAAA,MAAA,CAAO,YAAc,EAAA,CAAC,MAAM,cAAc,CAAA,CAAA;AAAA,GAC5D,CAAA,CAAA;AACD,EAAA,QAAA,CAAS,QAAQ,SAAS,CAAA,CAAA;AAC5B,CAAA,CAAA;AAEA,aAAe;AAAA,EACb,GAAA;AACF,CAAA;;;;"}